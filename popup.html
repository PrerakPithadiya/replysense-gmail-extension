<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Gmail Reply Generator - Settings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="container">
      <h3>Gmail Reply Generator</h3>
      <label>API Base URL</label>
      <input id="apiBase" placeholder="https://generativelanguage.googleapis.com/v1beta" />
      <label>API Key</label>
      <input id="apiKey" type="password" placeholder="Paste your API key here (saved in extension)" />
      <label>Model</label>
      <select id="model">
        <option value="gemini-1.5-flash">gemini-1.5-flash</option>
        <option value="gemini-1.5-pro">gemini-1.5-pro</option>
        <option value="gemini-2.5-pro" selected>gemini-2.5-pro</option>
        <option value="gemini-2.0-pro">gemini-2.0-pro</option>
        <option value="gemini-pro">gemini-pro (older)</option>
      </select>
      <label>Default max tokens</label>
      <input id="maxTokens" type="number" min="512" max="8192" value="4096" />
      <p class="note" style="font-size: 10px; margin-top: 4px;">Note: gemini-2.5-pro uses "thinking tokens" that count toward this limit. Use 4096+ for best results.</p>
      <label>Reply Tone</label>
      <select id="toneMode">
        <option value="match" selected>Match tone (default)</option>
        <option value="friendly">More friendly</option>
        <option value="concise">More concise</option>
        <option value="professional">More professional</option>
      </select>
      <div style="display: flex; align-items: center; gap: 8px; margin-top: 12px;">
        <input type="checkbox" id="loggingEnabled" style="margin: 0;" />
        <label for="loggingEnabled" style="margin: 0; font-weight: normal;">Enable Activity Logging</label>
      </div>
      <p class="note" style="font-size: 10px; margin-top: 4px;">When enabled, all extension activities will be logged. Logs persist across extension reloads. Use "Download Logs" before uninstalling to save permanently.</p>
      <div class="buttons">
        <button id="saveBtn">Save</button>
        <button id="clearBtn">Clear Key</button>
      </div>
      <div class="buttons" style="margin-top: 8px;">
        <button id="downloadLogsBtn" style="background: #34a853; color: white; border: 1px solid #34a853;">Download Logs</button>
      </div>
      <p class="note">Enter your API Base & Key here. Key is stored locally in the extension only.</p>
    </div>
    
    <script src="popup.js"></script>
  </body>
</html>

